<p align="center">
<img alt="Vditor" src="https://b3log.org/images/brand/vditor-128.png" />

<br>
æ˜“äºä½¿ç”¨çš„ Markdown ç¼–è¾‘å™¨ï¼Œä¸ºé€‚é…ä¸åŒçš„åº”ç”¨åœºæ™¯è€Œç”Ÿ
<br><br>
<a title="MIT" target="_blank" href="https://opensource.org/licenses/MIT"><img src="https://img.shields.io/badge/license-MIT-orange.svg?style=flat-square"></a>
<a title="npm bundle size" target="_blank" href="https://www.npmjs.com/package/vditor"><img alt="npm bundle size" src="https://img.shields.io/bundlephobia/minzip/vditor?style=flat-square&color=blueviolet"></a>
<a title="Version" target="_blank" href="https://www.npmjs.com/package/vditor"><img src="https://img.shields.io/npm/v/vditor.svg?style=flat-square"></a><br>
<a title="Downloads" target="_blank" href="https://www.npmjs.com/package/vditor"><img src="https://img.shields.io/npm/dt/vditor.svg?style=flat-square&color=97ca00"></a>
<a title="jsdelivr" target="_blank" href="https://www.jsdelivr.com/package/npm/vditor"><img src="https://data.jsdelivr.com/v1/package/npm/vditor/badge"/></a>
<a title="Hits" target="_blank" href="https://github.com/88250/hits"><img src="https://hits.b3log.org/Vanessa219/vditor.svg"></a> <br><br>
<a title="GitHub Watchers" target="_blank" href="https://github.com/Vanessa219/vditor/watchers"><img src="https://img.shields.io/github/watchers/Vanessa219/vditor.svg?label=Watchers&style=social"></a>
<a title="GitHub Stars" target="_blank" href="https://github.com/Vanessa219/vditor/stargazers"><img src="https://img.shields.io/github/stars/Vanessa219/vditor.svg?label=Stars&style=social"></a>
<a title="GitHub Forks" target="_blank" href="https://github.com/Vanessa219/vditor/network/members"><img src="https://img.shields.io/github/forks/Vanessa219/vditor.svg?label=Forks&style=social"></a>
<a title="Author GitHub Followers" target="_blank" href="https://github.com/vanessa219"><img src="https://img.shields.io/github/followers/vanessa219.svg?label=Followers&style=social"></a>
</p>

<p align="center">
<a href="https://github.com/Vanessa219/vditor/blob/master/README_en_US.md">English</a> &nbsp;|&nbsp; <a href="https://b3log.org/vditor/demo/index.html">Demo</a>
</p>

## ğŸ’¡ ç®€ä»‹

[Vditor](https://b3log.org/vditor) æ˜¯ä¸€æ¬¾æµè§ˆå™¨ç«¯çš„ Markdown ç¼–è¾‘å™¨ï¼Œæ”¯æŒæ‰€è§å³æ‰€å¾—ã€å³æ—¶æ¸²æŸ“ï¼ˆç±»ä¼¼ Typoraï¼‰å’Œåˆ†å±é¢„è§ˆæ¨¡å¼ã€‚å®ƒä½¿ç”¨ TypeScript å®ç°ï¼Œæ”¯æŒåŸç”Ÿ JavaScript ä»¥åŠ Vueã€Reactã€Angular å’Œ Svelte ç­‰æ¡†æ¶ã€‚

æ¬¢è¿åˆ° [Vditor å®˜æ–¹è®¨è®ºåŒº](https://ld246.com/tag/vditor)äº†è§£æ›´å¤šã€‚åŒæ—¶ä¹Ÿæ¬¢è¿å…³æ³¨ B3log å¼€æºç¤¾åŒºå¾®ä¿¡å…¬ä¼—å· `B3logå¼€æº`ï¼š

![b3logos.jpg](https://b3logfile.com/file/2020/08/b3logos-032af045.jpg)

## ğŸ—ºï¸ èƒŒæ™¯

éšç€ Markdown æ’ç‰ˆæ–¹å¼çš„æ™®åŠï¼Œè¶Šæ¥è¶Šå¤šçš„åº”ç”¨å¼€å§‹é›†æˆ Markdown ç¼–è¾‘å™¨ã€‚ç›®å‰ä¸»æµå¯é›†æˆçš„ Markdown ç¼–è¾‘å™¨ç°çŠ¶å¦‚ä¸‹ï¼š

* æœ‰çš„ä»…æ”¯æŒåˆ†å±é¢„è§ˆï¼Œå³ç¼–è¾‘åŒºå’Œé¢„è§ˆåŒºåˆ†ç¦»
* æœ‰çš„åŒæ—¶æ”¯æŒæ‰€è§å³æ‰€å¾—å’Œåˆ†å±é¢„è§ˆï¼Œä½†æ‰€è§å³æ‰€å¾—æ¨¡å¼ä¸‹ä¸èƒ½å®Œæ•´æ”¯æŒ Markdown è¯­æ³•æ’ç‰ˆ
* å‡ ä¹æ²¡æœ‰ç±»ä¼¼ Typora çš„å³æ—¶æ¸²æŸ“

è€Œè¿™ä¸‰ç‚¹æ°å¥½å¯¹åº”äº†ä¸‰ç§åº”ç”¨åœºæ™¯ï¼š

* åˆ†å±é¢„è§ˆï¼šé€‚é…ä¼ ç»Ÿçš„ Markdown ä½¿ç”¨åœºæ™¯ï¼Œé€‚åˆå¤§å±ä¸‹ç¼–è¾‘æ’ç‰ˆ
* æ‰€è§å³æ‰€å¾—ï¼šå¯¹ä¸ç†Ÿæ‚‰ Markdown çš„ç”¨æˆ·å‹å¥½ï¼Œç†Ÿæ‚‰ Markdown çš„ç”¨æˆ·ä¹Ÿå¯ä»¥æ— ç¼ä½¿ç”¨
* å³æ—¶æ¸²æŸ“ï¼šç†è®ºä¸Šè¿™æ˜¯æœ€ä¸ºä¼˜é›…çš„ Markdown ç¼–è¾‘æ–¹å¼ï¼Œè®©ç†Ÿæ‚‰ Markdown çš„ç”¨æˆ·èƒ½å¤Ÿæ›´ä¸“æ³¨äºå†…å®¹åˆ›ä½œ

æ‰€ä»¥ï¼Œä¸€ä¸ªèƒ½å¤Ÿ**é€‚é…åº”ç”¨åœºæ™¯**çš„ Markdown ç¼–è¾‘å™¨è‡³å…³é‡è¦ï¼Œå®ƒéœ€è¦è€ƒè™‘åˆ°ï¼š

* ä¼ ç»Ÿ Markdown ç”¨æˆ·çš„ä½¿ç”¨åœºæ™¯ï¼Œæä¾›åˆ†å±é¢„è§ˆ
* å¯Œæ–‡æœ¬ç¼–è¾‘ç”¨æˆ·çš„ä½¿ç”¨åœºæ™¯ï¼Œæä¾›æ‰€è§å³æ‰€å¾—
* é«˜é˜¶ Markdown ç”¨æˆ·çš„ä½¿ç”¨åœºæ™¯ï¼Œæä¾›å³æ—¶æ¸²æŸ“

Vditor åœ¨è¿™äº›æ–¹é¢åšäº†åŠªåŠ›ï¼Œå¸Œæœ›èƒ½ä¸ºç°ä»£åŒ–çš„é€šç”¨ Markdown ç¼–è¾‘é¢†åŸŸåšå‡ºä¸€äº›è´¡çŒ®ã€‚

## âœ¨  ç‰¹æ€§

* æ”¯æŒä¸‰ç§ç¼–è¾‘æ¨¡å¼ï¼šæ‰€è§å³æ‰€å¾—ï¼ˆwysiwygï¼‰ã€å³æ—¶æ¸²æŸ“ï¼ˆirï¼‰ã€åˆ†å±é¢„è§ˆï¼ˆsvï¼‰
* æ”¯æŒå¤§çº²ã€æ•°å­¦å…¬å¼ã€è„‘å›¾ã€å›¾è¡¨ã€æµç¨‹å›¾ã€ç”˜ç‰¹å›¾ã€æ—¶åºå›¾ã€äº”çº¿è°±ã€[å¤šåª’ä½“](https://ld246.com/article/1589813914768)ã€è¯­éŸ³é˜…è¯»ã€æ ‡é¢˜é”šç‚¹ã€ä»£ç é«˜äº®åŠå¤åˆ¶ã€graphviz æ¸²æŸ“ã€[plantuml](https://plantuml.com)UMLå›¾
* å†…ç½®å®‰å…¨è¿‡æ»¤ã€å¯¼å‡ºã€å›¾ç‰‡æ‡’åŠ è½½ã€ä»»åŠ¡åˆ—è¡¨ã€å¤šå¹³å°é¢„è§ˆã€å¤šä¸»é¢˜åˆ‡æ¢ã€å¤åˆ¶åˆ°å¾®ä¿¡å…¬ä¼—å·/çŸ¥ä¹åŠŸèƒ½
* å®ç° CommonMark å’Œ GFM è§„èŒƒï¼Œå¯å¯¹ Markdown è¿›è¡Œæ ¼å¼åŒ–å’Œè¯­æ³•æ ‘æŸ¥çœ‹ï¼Œå¹¶æ”¯æŒ[10+é¡¹](https://ld246.com/article/1549638745630#options-preview-markdown)é…ç½®
* å·¥å…·æ åŒ…å« 36+ é¡¹æ“ä½œï¼Œé™¤æ”¯æŒæ‰©å±•å¤–è¿˜å¯å¯¹æ¯ä¸€é¡¹ä¸­çš„[å¿«æ·é”®](https://ld246.com/article/1582778815353)ã€æç¤ºã€æç¤ºä½ç½®ã€å›¾æ ‡ã€ç‚¹å‡»äº‹ä»¶ã€ç±»åã€å­å·¥å…·æ è¿›è¡Œè‡ªå®šä¹‰
* è¡¨æƒ…/at/è¯é¢˜ç­‰è‡ªåŠ¨è¡¥å…¨æ‰©å±•
* å¯ä½¿ç”¨æ‹–æ‹½ã€å‰ªåˆ‡æ¿ç²˜è´´ä¸Šä¼ ï¼Œæ˜¾ç¤ºå®æ—¶ä¸Šä¼ è¿›åº¦ï¼Œæ”¯æŒ CORS è·¨åŸŸä¸Šä¼ 
* å®æ—¶ä¿å­˜å†…å®¹ï¼Œé˜²æ­¢æ„å¤–ä¸¢å¤±
* å½•éŸ³æ”¯æŒï¼Œç”¨æˆ·å¯ç›´æ¥å‘å¸ƒè¯­éŸ³
* ç²˜è´´ HTML è‡ªåŠ¨è½¬æ¢ä¸º Markdownï¼Œå¦‚ç²˜è´´ä¸­åŒ…å«å¤–é“¾å›¾ç‰‡å¯é€šè¿‡æŒ‡å®šæ¥å£ä¸Šä¼ åˆ°æœåŠ¡å™¨
* æ”¯æŒä¸»çª—å£å¤§å°æ‹–æ‹½ã€å­—ç¬¦è®¡æ•°
* å¤šä¸»é¢˜æ”¯æŒï¼Œå†…ç½®é»‘ç™½ç»¿ä¸‰å¥—ä¸»é¢˜
* å¤šè¯­è¨€æ”¯æŒï¼Œå†…ç½®ä¸­ã€è‹±ã€éŸ©æ–‡æœ¬åœ°åŒ–
* æ”¯æŒä¸»æµæµè§ˆå™¨ï¼Œå¯¹ç§»åŠ¨ç«¯å‹å¥½

![editor.png](https://b3logfile.com/file/2020/07/editor-b304aa97.png)

![preview.png](https://b3logfile.com/file/2020/05/preview-80846f66.png)

## ğŸ”® ç¼–è¾‘æ¨¡å¼

### æ‰€è§å³æ‰€å¾—ï¼ˆWYSIWYGï¼‰

*æ‰€è§å³æ‰€å¾—*æ¨¡å¼å¯¹ä¸ç†Ÿæ‚‰ Markdown çš„ç”¨æˆ·è¾ƒä¸ºå‹å¥½ï¼Œç†Ÿæ‚‰ Markdown çš„è¯ä¹Ÿå¯ä»¥æ— ç¼ä½¿ç”¨ã€‚

![vditor-wysiwyg](https://b3logfile.com/file/2020/07/wysiwyg-4f216b9b.gif)

### å³æ—¶æ¸²æŸ“ï¼ˆIRï¼‰

*å³æ—¶æ¸²æŸ“*æ¨¡å¼å¯¹ç†Ÿæ‚‰ Typora çš„ç”¨æˆ·åº”è¯¥ä¸ä¼šæ„Ÿåˆ°é™Œç”Ÿï¼Œç†è®ºä¸Šè¿™æ˜¯æœ€ä¼˜é›…çš„ Markdown ç¼–è¾‘æ–¹å¼ã€‚

![vditor-ir](https://b3logfile.com/file/2020/07/ir-67cd956c.gif)

### åˆ†å±é¢„è§ˆï¼ˆSVï¼‰

ä¼ ç»Ÿçš„*åˆ†å±é¢„è§ˆ*æ¨¡å¼é€‚åˆå¤§å±ä¸‹çš„ Markdown ç¼–è¾‘ã€‚

![vditor-sv](https://b3logfile.com/file/2020/07/sv-595dcb28.gif)

## ğŸ± è¯­æ³•æ”¯æŒ

* æ‰€æœ‰ CommonMark è¯­æ³•ï¼šåˆ†éš”çº¿ã€ATX æ ‡é¢˜ã€Setext æ ‡é¢˜ã€ç¼©è¿›ä»£ç å—ã€å›´æ ä»£ç å—ã€HTML å—ã€é“¾æ¥å¼•ç”¨å®šä¹‰ã€æ®µè½ã€å—å¼•ç”¨ã€åˆ—è¡¨ã€åæ–œæ è½¬ä¹‰ã€HTML å®ä½“ã€è¡Œçº§ä»£ç ã€å¼ºè°ƒã€åŠ ç²—ã€é“¾æ¥ã€å›¾ç‰‡ã€è¡Œçº§ HTMLã€ç¡¬æ¢è¡Œã€è½¯æ¢è¡Œå’Œçº¯æ–‡æœ¬ã€‚
* æ‰€æœ‰ GFM è¯­æ³•ï¼šè¡¨æ ¼ã€ä»»åŠ¡åˆ—è¡¨é¡¹ã€åˆ é™¤çº¿ã€è‡ªåŠ¨é“¾æ¥ã€XSS è¿‡æ»¤
* å¸¸ç”¨ Markdown æ‰©å±•è¯­æ³•ï¼šè„šæ³¨ã€ToCã€è‡ªå®šä¹‰æ ‡é¢˜ ID
* å›¾è¡¨è¯­æ³•
  * æµç¨‹å›¾ã€æ—¶åºå›¾ã€ç”˜ç‰¹å›¾ï¼Œé€šè¿‡ Mermaid æ”¯æŒ
  * Graphviz
  * æŠ˜çº¿å›¾ã€é¥¼å›¾ã€è„‘å›¾ç­‰ï¼Œé€šè¿‡ ECharts æ”¯æŒ
* äº”çº¿è°±ï¼šé€šè¿‡ abc.js æ”¯æŒ
* æ•°å­¦å…¬å¼ï¼šæ•°å­¦å…¬å¼å—ã€è¡Œçº§æ•°å­¦å…¬å¼ï¼Œé€šè¿‡ MathJax å’Œ KaTeX æ”¯æŒ
* YAML Front Matter
* ä¸­æ–‡è¯­å¢ƒä¼˜åŒ–
  * ä¸­è¥¿æ–‡ä¹‹é—´æ’å…¥ç©ºæ ¼
  * æœ¯è¯­æ‹¼å†™ä¿®æ­£
  * ä¸­æ–‡åè·Ÿè‹±æ–‡é€—å·å¥å·ç­‰æ ‡ç‚¹æ›¿æ¢ä¸ºä¸­æ–‡å¯¹åº”æ ‡ç‚¹

ä»¥ä¸Šå¤§éƒ¨åˆ†ç‰¹æ€§å¯ä»¥é€šè¿‡å¼€å…³é…ç½®æ˜¯å¦å¯ç”¨ï¼Œå¼€å‘è€…å¯æ ¹æ®è‡ªå·±çš„åº”ç”¨åœºæ™¯é€‰æ‹©æ­é…ã€‚

## ğŸ—ƒ æ¡ˆä¾‹

* [Sym](https://github.com/88250/symphony) ä¸€æ¬¾ç”¨ Java å®ç°çš„ç°ä»£åŒ–ç¤¾åŒºï¼ˆè®ºå›/BBS/ç¤¾äº¤ç½‘ç»œ/åšå®¢ï¼‰å¹³å°
* [Solo](https://github.com/88250/solo) & [Pipe](https://github.com/88250/pipe) B3log åˆ†å¸ƒå¼ç¤¾åŒºçš„åšå®¢ç«¯èŠ‚ç‚¹ï¼Œæ¬¢è¿åŠ å…¥ä¸‹ä¸€ä»£ç¤¾åŒºç½‘ç»œ
* [Tditor](https://tditor.com) åŸºäºReactã€Vditorã€Springbootï¼Œ ä¸€æ¬¾æ‰“é€ æè‡´æ–‡å­—åˆ›ä½œä½“éªŒçš„åœ¨çº¿Markdownç¼–è¾‘å¹³å°
* [Arya](https://github.com/nicejade/markdown-online-editor) åŸºäº Vueã€Vditorï¼Œæ‰€æ„å»ºçš„åœ¨çº¿ Markdown ç¼–è¾‘å™¨
* [æ›´å¤šæ¡ˆä¾‹](https://github.com/Vanessa219/vditor/network/dependents?package_id=UGFja2FnZS0zMTY2Mzg4MzE%3D)

## ğŸ› ï¸ ä½¿ç”¨æ–‡æ¡£

### CommonJS

* å®‰è£…ä¾èµ–

```shell
npm install vditor --save
```

* åœ¨ä»£ç ä¸­å¼•å…¥å¹¶åˆå§‹åŒ–å¯¹è±¡ï¼Œå¯å‚è€ƒ [index.js](https://github.com/Vanessa219/vditor/blob/master/demo/index.js)

```ts
import Vditor from 'vditor'
import "~vditor/src/assets/less/index"

const vditor = new Vditor(id, {options...})
```

### HTML script

* åœ¨ HTML ä¸­æ’å…¥ CSS å’Œ JavaScriptï¼Œå¯å‚è€ƒ [demo](https://b3log.org/vditor/demo/index.html)

```html
<!-- âš ï¸ç”Ÿäº§ç¯å¢ƒè¯·æŒ‡å®šç‰ˆæœ¬å·ï¼Œå¦‚ https://unpkg.com/vditor@x.x.x/dist... -->
<link rel="stylesheet" href="https://unpkg.com/vditor/dist/index.css" />
<script src="https://unpkg.com/vditor/dist/index.min.js"></script>
```

### ç¤ºä¾‹ä»£ç 

* [å®˜æ–¹ç¤ºä¾‹](https://b3log.org/vditor/demo/index.html) / [ç¤ºä¾‹æºç ](https://github.com/Vanessa219/b3log-index/tree/master/src/vditor)
* [CommonJS Editor](https://github.com/Vanessa219/vditor/blob/master/demo/index.js)
* [CommonJS Render](https://github.com/Vanessa219/vditor/blob/master/demo/render.js)
* [åœ¨Svelteä¸­ä½¿ç”¨](https://github.com/HerbertHe/svelte-vditor-demo)

### ä¸»é¢˜

#### ç¼–è¾‘å™¨ä¸»é¢˜

ç¼–è¾‘å™¨æ‰€å±•ç°çš„å¤–è§‚ã€‚å†…ç½®classicï¼Œdark 2 å¥—ä¸»é¢˜ã€‚

* ç¼–è¾‘å™¨åˆå§‹åŒ–æ—¶å¯é€šè¿‡ `options.theme` è®¾ç½®å†…ç½®ä¸»é¢˜
* åˆå§‹åŒ–å®Œæˆåå¯é€šè¿‡ `setTheme` æ›´æ–°ç¼–è¾‘å™¨ä¸»é¢˜
* å¯é€šè¿‡ä¿®æ”¹ [index.less](https://github.com/Vanessa219/vditor/blob/master/src/assets/less/index.less) ä¸­çš„å˜é‡å¯¹ä¸»é¢˜é¢œè‰²è¿›è¡Œå®šåˆ¶
* å¯å‚è€ƒç°æœ‰ç»“æ„å’Œç±»ååœ¨åŸæœ‰åŸºç¡€ä¸Šè¿›è¡Œä¿®æ”¹

#### å†…å®¹ä¸»é¢˜

Markdown è¾“å‡ºçš„ HTML æ‰€å±•ç°çš„å¤–è§‚ã€‚å†…ç½® ant-design, lightï¼Œdarkï¼Œwechat 4 å¥—ä¸»é¢˜ã€‚æ”¯æŒå†…å®¹ä¸»é¢˜æ‰©å±•æ¥å£ã€‚

* éœ€åœ¨æ˜¾ç¤ºå…ƒç´ ä¸Šæ·»åŠ  `class="vditor-reset"`
* ç¼–è¾‘å™¨åˆå§‹åŒ–æ—¶å¯é€šè¿‡ `options.preview.theme` è®¾ç½®å†…ç½®æˆ–è‡ªå·±å¼€å‘çš„ä¸»é¢˜åˆ—è¡¨
* å†…å®¹æ¸²æŸ“åˆå§‹åŒ–æ—¶å¯é€šè¿‡ `IPreviewOptions.theme` è®¾ç½®å†…ç½®æˆ–è‡ªå·±å¼€å‘çš„ä¸»é¢˜
* åˆå§‹åŒ–å®Œæˆåå¯é€šè¿‡ `setTheme` æˆ– `setContentTheme` æ›´æ–°å†…å®¹ä¸»é¢˜

#### ä»£ç ä¸»é¢˜

ä»£ç å—æ‰€å±•ç°çš„å¤–è§‚ã€‚å†…ç½® github ç­‰ 36 å¥—ä¸»é¢˜ã€‚

* ç¼–è¾‘å™¨åˆå§‹åŒ–æ—¶å¯é€šè¿‡ `options.preview.hljs` å¯¹ä»£ç å—æ ·å¼ã€è¡Œå·ã€æ˜¯å¦å¯ç”¨è¿›è¡Œè®¾ç½®
* å†…å®¹æ¸²æŸ“åˆå§‹åŒ–æ—¶å¯é€šè¿‡ `IPreviewOptions.hljs` å¯¹ä»£ç å—æ ·å¼ã€è¡Œå·ã€æ˜¯å¦å¯ç”¨è¿›è¡Œè®¾ç½®
* åˆå§‹åŒ–å®Œæˆåå¯é€šè¿‡ `setTheme` æˆ– `setCodeTheme` æ›´æ–°ä»£ç ä¸»é¢˜

### API

#### id

å¯å¡«å…¥å…ƒç´  `id` æˆ–å…ƒç´ è‡ªèº« `HTMLElement`

âš ï¸ï¼šå½“å¡«å…¥å…ƒç´ è‡ªèº«çš„ `HTMLElement` æ—¶éœ€è®¾ç½® `options.cache.id` æˆ–å°† `options.cache.enable` è®¾ç½®ä¸º `false`

#### options

|   | è¯´æ˜ | é»˜è®¤å€¼ |
| - | - | - |
| i18n | å¤šè¯­è¨€ï¼Œå‚è§ ITips | - |
| undoDelay | å†å²è®°å½•é—´éš” | - |
| after | ç¼–è¾‘å™¨å¼‚æ­¥æ¸²æŸ“å®Œæˆåçš„å›è°ƒæ–¹æ³• | - |
| height | ç¼–è¾‘å™¨æ€»é«˜åº¦ | 'auto' |
| minHeight | ç¼–è¾‘åŒºåŸŸæœ€å°é«˜åº¦ | - |
| width | ç¼–è¾‘å™¨æ€»å®½åº¦ï¼Œæ”¯æŒ % | 'auto' |
| placeholder | è¾“å…¥åŒºåŸŸä¸ºç©ºæ—¶çš„æç¤º | '' |
| lang | è¯­è¨€ç§ç±»ï¼šen_US, ja_JP, ko_KR, ru_RU, zh_CN, zh_TW | 'zh_CN' |
| input(value: string) | è¾“å…¥åè§¦å‘  | - |
| focus(value: string) | èšç„¦åè§¦å‘ | - |
| blur(value: string) | å¤±ç„¦åè§¦å‘ | - |
| esc(value: string) | <kbd>esc</kbd> æŒ‰ä¸‹åè§¦å‘ | - |
| ctrlEnter(value: string) | <kbd>âŒ˜/ctrl+enter</kbd> æŒ‰ä¸‹åè§¦å‘ | - |
| select(value: string) | ç¼–è¾‘å™¨ä¸­é€‰ä¸­æ–‡å­—åè§¦å‘ | - |
| tab | <kbd>tab</kbd> é”®æ“ä½œå­—ç¬¦ä¸²ï¼Œæ”¯æŒ `\t` åŠä»»æ„å­—ç¬¦ä¸² | - |
| typewriterMode | æ˜¯å¦å¯ç”¨æ‰“å­—æœºæ¨¡å¼ | false |
| cdn | é…ç½®è‡ªå»º CDN åœ°å€ | `https://unpkg.com/vditor@${VDITOR_VERSION}` |
| mode | å¯é€‰æ¨¡å¼ï¼šsv, ir, wysiwyg | 'ir' |
| debugger | æ˜¯å¦æ˜¾ç¤ºæ—¥å¿— | false |
| value | ç¼–è¾‘å™¨åˆå§‹åŒ–å€¼ | '' |
| theme | ä¸»é¢˜ï¼šclassic, dark | 'classic' |
| icon | å›¾æ ‡é£æ ¼ï¼šant, material | 'ant' |

#### options.toolbar

* å·¥å…·æ ï¼Œå¯ä½¿ç”¨ name è¿›è¡Œç®€å†™ï¼š `toolbar: ['emoji', 'br', 'bold', '|', 'line']` ã€‚é»˜è®¤å€¼å‚è§ [src/ts/util/Options.ts](https://github.com/Vanessa219/vditor/blob/master/src/ts/util/Options.ts)
* name å¯æšä¸¾ä¸ºï¼š `emoji` , `headings` , `bold` , `italic` , `strike` , `|` , `line` , `quote` , `list` , `ordered-list` , `check` ,`outdent` ,`indent` , `code` , `inline-code` , `insert-after` , `insert-before` ,`undo` , `redo` , `upload` , `link` , `table` , `record` , `edit-mode` , `both` , `preview` , `fullscreen` , `outline` , `code-theme` , `content-theme` , `export`, `devtools` , `info` , `help` , `br`
* å½“ `name` ä¸åœ¨æšä¸¾ä¸­æ—¶ï¼Œå¯ä»¥æ·»åŠ è‡ªå®šä¹‰æŒ‰é’®ï¼Œæ ¼å¼å¦‚ä¸‹ï¼š

```js
new Vditor('vditor', {
  toolbar: [
    {
      hotkey: 'â‡§âŒ˜S',
      name: 'sponsor',
      tipPosition: 's',
      tip: 'æˆä¸ºèµåŠ©è€…',
      className: 'right',
      icon: '<svg t="1589994565028" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2808" width="32" height="32"><path d="M506.6 423.6m-29.8 0a29.8 29.8 0 1 0 59.6 0 29.8 29.8 0 1 0-59.6 0Z" fill="#0F0F0F" p-id="2809"></path><path d="M717.8 114.5c-83.5 0-158.4 65.4-211.2 122-52.7-56.6-127.7-122-211.2-122-159.5 0-273.9 129.3-273.9 288.9C21.5 562.9 429.3 913 506.6 913s485.1-350.1 485.1-509.7c0.1-159.5-114.4-288.8-273.9-288.8z" fill="#FAFCFB" p-id="2810"></path><path d="M506.6 926c-22 0-61-20.1-116-59.6-51.5-37-109.9-86.4-164.6-139-65.4-63-217.5-220.6-217.5-324 0-81.4 28.6-157.1 80.6-213.1 53.2-57.2 126.4-88.8 206.3-88.8 40 0 81.8 14.1 124.2 41.9 28.1 18.4 56.6 42.8 86.9 74.2 30.3-31.5 58.9-55.8 86.9-74.2 42.5-27.8 84.3-41.9 124.2-41.9 79.9 0 153.2 31.5 206.3 88.8 52 56 80.6 131.7 80.6 213.1 0 103.4-152.1 261-217.5 324-54.6 52.6-113.1 102-164.6 139-54.8 39.5-93.8 59.6-115.8 59.6zM295.4 127.5c-72.6 0-139.1 28.6-187.3 80.4-47.5 51.2-73.7 120.6-73.7 195.4 0 64.8 78.3 178.9 209.6 305.3 53.8 51.8 111.2 100.3 161.7 136.6 56.1 40.4 88.9 54.8 100.9 54.8s44.7-14.4 100.9-54.8c50.5-36.3 108-84.9 161.7-136.6 131.2-126.4 209.6-240.5 209.6-305.3 0-74.9-26.2-144.2-73.7-195.4-48.2-51.9-114.7-80.4-187.3-80.4-61.8 0-127.8 38.5-201.7 117.9-2.5 2.6-5.9 4.1-9.5 4.1s-7.1-1.5-9.5-4.1C423.2 166 357.2 127.5 295.4 127.5z" fill="#141414" p-id="2811"></path><path d="M353.9 415.6m-33.8 0a33.8 33.8 0 1 0 67.6 0 33.8 33.8 0 1 0-67.6 0Z" fill="#0F0F0F" p-id="2812"></path><path d="M659.3 415.6m-33.8 0a33.8 33.8 0 1 0 67.6 0 33.8 33.8 0 1 0-67.6 0Z" fill="#0F0F0F" p-id="2813"></path><path d="M411.6 538.5c0 52.3 42.8 95 95 95 52.3 0 95-42.8 95-95v-31.7h-190v31.7z" fill="#5B5143" p-id="2814"></path><path d="M506.6 646.5c-59.6 0-108-48.5-108-108v-31.7c0-7.2 5.8-13 13-13h190.1c7.2 0 13 5.8 13 13v31.7c0 59.5-48.5 108-108.1 108z m-82-126.7v18.7c0 45.2 36.8 82 82 82s82-36.8 82-82v-18.7h-164z" fill="#141414" p-id="2815"></path><path d="M450.4 578.9a54.7 27.5 0 1 0 109.4 0 54.7 27.5 0 1 0-109.4 0Z" fill="#EA64F9" p-id="2816"></path><path d="M256 502.7a32.1 27.5 0 1 0 64.2 0 32.1 27.5 0 1 0-64.2 0Z" fill="#EFAFF9" p-id="2817"></path><path d="M703.3 502.7a32.1 27.5 0 1 0 64.2 0 32.1 27.5 0 1 0-64.2 0Z" fill="#EFAFF9" p-id="2818"></path></svg>',
      click () {alert('æèµ åœ°å€ï¼šhttps://ld246.com/sponsor')},
    }],
})
```

|   | è¯´æ˜ | é»˜è®¤å€¼ |
| - | - | - |
| name | å”¯ä¸€æ ‡ç¤º | - |
| icon | svg å›¾æ ‡ | - |
| tip | æç¤º | - |
| tipPosition | æç¤ºä½ç½®ï¼š'n', 'ne', 'nw', 's', 'se', 'sw', 'w', 'e' | - |
| hotkey | å¿«æ·é”®ï¼Œæ ¼å¼ä¸º<kbd>â‡§âŒ˜</kbd>/<kbd>âŒ˜</kbd>/<kbd>âŒ¥âŒ˜</kbd>| - |
| suffix | æ’å…¥ç¼–è¾‘å™¨ä¸­çš„åç¼€ | - |
| prefix | æ’å…¥ç¼–è¾‘å™¨ä¸­çš„å‰ç¼€ | - |
| click(event: Event, vditor: IVditor) | è‡ªå®šä¹‰æŒ‰é’®ç‚¹å‡»æ—¶è§¦å‘çš„äº‹ä»¶ | - |
| className | æ ·å¼å | '' |
| toolbar?: Array<options.toolbar> | å­èœå• | - |

#### options.toolbarConfig

|   | è¯´æ˜ | é»˜è®¤å€¼ |
| - | - | - |
| hide | æ˜¯å¦éšè—å·¥å…·æ  | false |
| pin | æ˜¯å¦å›ºå®šå·¥å…·æ  | false |

#### options.counter

|   | è¯´æ˜ | é»˜è®¤å€¼ |
| - | - | - |
| enable | æ˜¯å¦å¯ç”¨è®¡æ•°å™¨ | false |
| after(length: number, counter: options.counter): void | å­—æ•°ç»Ÿè®¡å›è°ƒ | - |
| max | å…è®¸è¾“å…¥çš„æœ€å¤§å€¼ | - |
| type | ç»Ÿè®¡ç±»å‹ï¼š'markdown', 'text' | 'markdown' |

#### options.cache

|   | è¯´æ˜ | é»˜è®¤å€¼ |
| - | - | - |
| enable | æ˜¯å¦ä½¿ç”¨ localStorage è¿›è¡Œç¼“å­˜ | true |
| id | ç¼“å­˜ keyï¼Œç¬¬ä¸€ä¸ªå‚æ•°ä¸ºå…ƒç´ ä¸”å¯ç”¨ç¼“å­˜æ—¶**å¿…å¡«** | - |
| after(html: string): string | ç¼“å­˜åçš„å›è°ƒ | - |

#### options.comment

âš ï¸ï¼šä»…æ”¯æŒ wysiwyg æ¨¡å¼

|   | è¯´æ˜ | é»˜è®¤å€¼ |
| - | - | - |
| enable | æ˜¯å¦å¯ç”¨è¯„è®ºæ¨¡å¼ | false |
| add(id: string, text: string, commentsData: ICommentsData[]) | æ·»åŠ è¯„è®ºå›è°ƒ | - |
| remove(ids: string[]) | åˆ é™¤è¯„è®ºå›è°ƒ | - |
| scroll(top: number) | æ»šåŠ¨å›è°ƒ | - |
| adjustTop(commentsData: ICommentsData[]) | æ–‡æ¡£ä¿®æ”¹æ—¶ï¼Œé€‚é…è¯„è®ºé«˜åº¦ | - |

#### options.preview

|   | è¯´æ˜ | é»˜è®¤å€¼ |
| - | - | - |
| delay | é¢„è§ˆ debounce æ¯«ç§’é—´éš” | 1000 |
| maxWidth | é¢„è§ˆåŒºåŸŸæœ€å¤§å®½åº¦ | 800 |
| mode | æ˜¾ç¤ºæ¨¡å¼ï¼šboth, editor | 'both' |
| url | md è§£æè¯·æ±‚ | - |
| parse(element: HTMLElement) | é¢„è§ˆå›è°ƒ | - |
| transform(html: string): string | æ¸²æŸ“ä¹‹å‰å›è°ƒ | - |

#### options.preview.hljs

|   | è¯´æ˜ | é»˜è®¤å€¼ |
| - | - | - |
| enable | æ˜¯å¦å¯ç”¨ä»£ç é«˜äº® | true |
| style | å¯é€‰å€¼å‚è§[Chroma](https://xyproto.github.io/splash/docs/longer/all.html) | `github` |
| lineNumber | æ˜¯å¦å¯ç”¨è¡Œå· | false |

#### options.preview.markdown

|   | è¯´æ˜ | é»˜è®¤å€¼ |
| - | - | - |
| autoSpace | è‡ªåŠ¨ç©ºæ ¼ | false |
| fixTermTypo | è‡ªåŠ¨çŸ«æ­£æœ¯è¯­ | false |
| toc | æ’å…¥ç›®å½• | false |
| footnotes | è„šæ³¨ | true |
| codeBlockPreview | wysiwyg å’Œ ir æ¨¡å¼ä¸‹æ˜¯å¦å¯¹ä»£ç å—è¿›è¡Œæ¸²æŸ“ | true |
| mathBlockPreview | wysiwyg å’Œ ir æ¨¡å¼ä¸‹æ˜¯å¦å¯¹æ•°å­¦å…¬å¼è¿›è¡Œæ¸²æŸ“ | true |
| paragraphBeginningSpace | æ®µè½å¼€å¤´ç©ºä¸¤ä¸ª | false |
| sanitize | æ˜¯å¦å¯ç”¨è¿‡æ»¤ XSS | true |
| listStyle | ä¸ºåˆ—è¡¨æ·»åŠ  data-style å±æ€§ | false |
| linkBase | é“¾æ¥ç›¸å¯¹è·¯å¾„å‰ç¼€ | '' |
| linkPrefix | é“¾æ¥å¼ºåˆ¶å‰ç¼€ | '' |
| mark | å¯ç”¨ mark æ ‡è®° | false |

#### options.preview.theme

|   | è¯´æ˜ | é»˜è®¤å€¼ |
| - | - | - |
| current | å½“å‰ä¸»é¢˜ | "light" |
| list | å¯é€‰ä¸»é¢˜åˆ—è¡¨ | { "ant-design": "Ant Design", dark: "Dark", light: "Light", wechat: "WeChat" } |
| path | ä¸»é¢˜æ ·å¼åœ°å€ | `https://unpkg.com/vditor@${VDITOR_VERSION}/dist/css/content-theme` |

#### options.preview.math

|   | è¯´æ˜ | é»˜è®¤å€¼ |
| - | - | - |
| inlineDigit | å†…è”æ•°å­¦å…¬å¼èµ·å§‹ $ åæ˜¯å¦å…è®¸æ•°å­— | false |
| macros | ä½¿ç”¨ MathJax æ¸²æŸ“æ—¶ä¼ å…¥çš„å®å®šä¹‰ | {} |
| engine | æ•°å­¦å…¬å¼æ¸²æŸ“å¼•æ“ï¼šKaTeX, MathJax | 'KaTeX' |

#### options.preview.actions?: Array<IPreviewAction | IPreviewActionCustom>

é»˜è®¤å€¼ä¸º ["desktop", "tablet", "mobile", "mp-wechat", "zhihu"]ã€‚
å¯ä»é»˜è®¤å€¼ä¸­æŒ‘é€‰è¿›è¡Œé…ç½®ï¼Œä¹Ÿå¯ä½¿ç”¨ä»¥ä¸‹å­—æ®µè¿›è¡Œè‡ªå®šåˆ¶å¼€å‘ã€‚

|   | è¯´æ˜ | é»˜è®¤å€¼ |
| - | - | - |
| key | æŒ‰é’®å”¯ä¸€æ ‡è¯†ï¼Œä¸èƒ½ä¸ºç©º | - |
| text | æŒ‰é’®æ–‡å­— | - |
| tooltip | æç¤º | - |
| className | æŒ‰é’®ç±»å | - |
| click(key: string) | æŒ‰é’®ç‚¹å‡»å›è°ƒäº‹ä»¶ | - |

#### options.image

|   | è¯´æ˜ | é»˜è®¤å€¼ |
| - | - | - |
| isPreview | æ˜¯å¦é¢„è§ˆå›¾ç‰‡ | true |
| preview(bom: Element) => void | å›¾ç‰‡é¢„è§ˆå¤„ç† | - |

#### options.link

|   | è¯´æ˜ | é»˜è®¤å€¼ |
| - | - | - |
| isOpen | æ˜¯å¦æ‰“å¼€é“¾æ¥åœ°å€ | true |
| click(bom: Element) => void | ç‚¹å‡»é“¾æ¥äº‹ä»¶ | - |

#### options.hint

|   | è¯´æ˜ | é»˜è®¤å€¼ |
| - | - | - |
| parse | æ˜¯å¦è¿›è¡Œ md è§£æ | true |
| delay | æç¤º debounce æ¯«ç§’é—´éš” | 200 |
| emoji | é»˜è®¤è¡¨æƒ…ï¼Œå¯ä»[lute/emoji_map](https://github.com/88250/lute/blob/master/parse/emoji_map.go) ä¸­é€‰å–ï¼Œä¹Ÿå¯è‡ªå®šä¹‰ | { '+1': 'ğŸ‘', '-1': 'ğŸ‘', 'heart': 'â¤ï¸', 'cold_sweat': 'ğŸ˜°' } |
| emojiTail | å¸¸ç”¨è¡¨æƒ…æç¤º | - |
| emojiPath | è¡¨æƒ…å›¾ç‰‡åœ°å€ | `https://unpkg.com/vditor@${VDITOR_VERSION}/dist/images/emoji` |
| extend: IHintExtend[] | å¯¹ @/è¯é¢˜ç­‰å…³é”®å­—è‡ªåŠ¨è¡¥å…¨çš„æ‰©å±• | [] |

```ts
interface IHintData {
  html: string;
  value: string;
}

interface IHintExtend {
    key: string;

    hint?(value: string): IHintData[] | Promise<IHintData[]>;
}
```

#### options.upload

* æ–‡ä»¶ä¸Šä¼ çš„æ•°æ®ç»“æ„å¦‚ä¸‹ã€‚åç«¯è¿”å›çš„æ•°æ®ç»“æ„ä¸ä¸€è‡´æ—¶ï¼Œå¯ä½¿ç”¨ `format` è¿›è¡Œè½¬æ¢ã€‚

```js
// POST data
xhr.send(formData);  // formData = FormData.append("file[]", File)
// return data
{
 "msg": "",
 "code": 0,
 "data": {
 "errFiles": ['filename', 'filename2'],
 "succMap": {
   "filename3": "filepath3",
   "filename3": "filepath3"
   }
 }
}
```

* ä¸ºäº†é˜²æ­¢ç«™å¤–å›¾ç‰‡å¤±æ•ˆï¼Œ `linkToImgUrl` å¯å°†å‰ªè´´æ¿ä¸­çš„ç«™å¤–å›¾ç‰‡åœ°å€ä¼ åˆ°æœåŠ¡å™¨ç«¯è¿›è¡Œä¿å­˜å¤„ç†ï¼Œå…¶æ•°æ®ç»“æ„å¦‚ä¸‹ï¼š

```js
// POST data
xhr.send(JSON.stringify({url: src})); // src ä¸ºç«™å¤–å›¾ç‰‡åœ°å€
// return data
{
 msg: '',
 code: 0,
 data : {
   originalURL: '',
   url: ''
 }
}
```

* `success`ï¼Œ`format`ï¼Œ`error` ä¸ä¼šåŒæ—¶è§¦å‘ï¼Œå…·ä½“è°ƒç”¨æƒ…å†µå¦‚ä¸‹ï¼š

```js
if (xhr.status === 200) {
    if (vditor.options.upload.success) {
        vditor.options.upload.success(editorElement, xhr.responseText);
    } else {
        let responseText = xhr.responseText;
        if (vditor.options.upload.format) {
            responseText = vditor.options.upload.format(files as File [], xhr.responseText);
        }
        genUploadedLabel(responseText, vditor);
    }
} else {
    if (vditor.options.upload.error) {
        vditor.options.upload.error(xhr.responseText);
    } else {
        vditor.tip.show(xhr.responseText);
    }
}
```

|   | è¯´æ˜ | é»˜è®¤å€¼ |
| - | - | - |
| url | ä¸Šä¼  urlï¼Œä¸ºç©ºåˆ™ä¸ä¼šè§¦å‘ä¸Šä¼ ç›¸å…³äº‹ä»¶ | '' |
| max | ä¸Šä¼ æ–‡ä»¶æœ€å¤§ Byte | 10 * 1024 * 1024 |
| linkToImgUrl | å‰ªåˆ‡æ¿ä¸­åŒ…å«å›¾ç‰‡åœ°å€æ—¶ï¼Œä½¿ç”¨æ­¤ url é‡æ–°ä¸Šä¼  | '' |
| linkToImgCallback(responseText: string) | å›¾ç‰‡åœ°å€ä¸Šä¼ å›è°ƒ | - |
| linkToImgFormat(responseText: string): string | å¯¹å›¾ç‰‡åœ°å€ä¸Šä¼ çš„è¿”å›å€¼è¿›è¡Œæ ¼å¼åŒ– | - |
| success(editor: HTMLPreElement, msg: string) | ä¸Šä¼ æˆåŠŸå›è°ƒ | - |
| error(msg: string) | ä¸Šä¼ å¤±è´¥å›è°ƒ | - |
| token | CORS ä¸Šä¼ éªŒè¯ï¼Œå¤´ä¸º X-Upload-Token | - |
| withCredentials | è·¨ç«™ç‚¹è®¿é—®æ§åˆ¶ | false |
| headers | è¯·æ±‚å¤´è®¾ç½® | - |
| filename(name: string): string | æ–‡ä»¶åå®‰å…¨å¤„ç† | name => name.replace(/\W/g, '') |
| accept | æ–‡ä»¶ä¸Šä¼ ç±»å‹ï¼ŒåŒ[input accept](https://www.w3schools.com/tags/att_input_accept.asp) | - |
| validate(files: File[]) => string \| boolean | æ ¡éªŒï¼ŒæˆåŠŸæ—¶è¿”å› true å¦åˆ™è¿”å›é”™è¯¯ä¿¡æ¯ | - |
| handler(files: File[]) => string \| null \| Promise<string> \| Promise<null> | è‡ªå®šä¹‰ä¸Šä¼ ï¼Œå½“å‘ç”Ÿé”™è¯¯æ—¶è¿”å›é”™è¯¯ä¿¡æ¯ | - |
| format(files: File[], responseText: string): string | å¯¹æœåŠ¡ç«¯è¿”å›çš„æ•°æ®è¿›è¡Œè½¬æ¢ï¼Œä»¥æ»¡è¶³å†…ç½®çš„æ•°æ®ç»“æ„ | - |
| file(files: File[]): File[] \| Promise<File[]> | å°†ä¸Šä¼ çš„æ–‡ä»¶å¤„ç†åå†è¿”å› | - |
| setHeaders(): { [key: string]: string } | ä¸Šä¼ å‰ä½¿ç”¨è¿”å›å€¼è®¾ç½®å¤´ | - |
| extraData: { [key: string]: string \| Blob } | ä¸º FormData æ·»åŠ é¢å¤–çš„å‚æ•° | - |
| multiple | ä¸Šä¼ æ–‡ä»¶æ˜¯å¦ä¸ºå¤šä¸ª | true |
| fieldName | ä¸Šä¼ å­—æ®µåç§° | 'file[]' |

#### options.resize

|   | è¯´æ˜ | é»˜è®¤å€¼ |
| - | - | - |
| enable | æ˜¯å¦æ”¯æŒå¤§å°æ‹–æ‹½ | false |
| position | æ‹–æ‹½æ ä½ç½®ï¼š'top', 'bottom' | 'bottom' |
| after(height: number) | æ‹–æ‹½ç»“æŸçš„å›è°ƒ | - |

#### options.classes

|   | è¯´æ˜ | é»˜è®¤å€¼ |
| - | - | - |
| preview | é¢„è§ˆå…ƒç´ ä¸Šçš„ className | '' |

#### options.fullscreen

|   | è¯´æ˜ | é»˜è®¤å€¼ |
| - | - | - |
| index | å…¨å±å±‚çº§ | 90 |

#### options.outline

|   | è¯´æ˜ | é»˜è®¤å€¼ |
| - | - | - |
| enable | åˆå§‹åŒ–æ˜¯å¦å±•ç°å¤§çº² | false |
| position | å¤§çº²ä½ç½®ï¼š'left', 'right' | 'left' |

#### methods

|   | è¯´æ˜ |
| - | - |
| exportJSON(markdown: string) | æ ¹æ® Markdown è·å–å¯¹åº” JSON |
| getValue() | è·å– Markdown å†…å®¹ |
| getHTML() | è·å– HTML å†…å®¹ |
| insertValue(value: string, render = true) | åœ¨ç„¦ç‚¹å¤„æ’å…¥å†…å®¹ï¼Œå¹¶é»˜è®¤è¿›è¡Œ Markdown æ¸²æŸ“ |
| focus() | èšç„¦åˆ°ç¼–è¾‘å™¨ |
| blur() | è®©ç¼–è¾‘å™¨å¤±ç„¦ |
| disabled() | ç¦ç”¨ç¼–è¾‘å™¨ |
| enable() | è§£é™¤ç¼–è¾‘å™¨ç¦ç”¨ |
| getSelection(): string | è¿”å›é€‰ä¸­çš„å­—ç¬¦ä¸² |
| setValue(markdown: string, clearStack = false) | è®¾ç½®ç¼–è¾‘å™¨å†…å®¹ä¸”é€‰ä¸­æ¸…ç©ºå†å²æ ˆ |
| clearStack() | æ¸…ç©ºæ’¤é”€å’Œé‡åšè®°å½•æ ˆ|
| renderPreview(value?: string) | è®¾ç½®é¢„è§ˆåŒºåŸŸå†…å®¹ |
| getCursorPosition():{top: number, left: number} | è·å–ç„¦ç‚¹ä½ç½® |
| deleteValue() | åˆ é™¤é€‰ä¸­å†…å®¹ |
| updateValue(value: string) | æ›´æ–°é€‰ä¸­å†…å®¹ |
| isUploading() | ä¸Šä¼ æ˜¯å¦è¿˜åœ¨è¿›è¡Œä¸­ |
| clearCache() | æ¸…é™¤ç¼“å­˜ |
| disabledCache() | ç¦ç”¨ç¼“å­˜ |
| enableCache() | å¯ç”¨ç¼“å­˜ |
| html2md(value: string) | HTML è½¬ md |
| tip(text: string, time: number) | æ¶ˆæ¯æç¤ºã€‚time ä¸º 0 å°†ä¸€ç›´æ˜¾ç¤º |
| setPreviewMode(mode: "both" \| "editor") | è®¾ç½®é¢„è§ˆæ¨¡å¼ |
| setTheme(theme: "dark" \| "classic", contentTheme?: string, codeTheme?: string, contentThemePath?: string) | è®¾ç½®ä¸»é¢˜ã€å†…å®¹ä¸»é¢˜åŠä»£ç å—é£æ ¼ |
| getCurrentMode(): string | è·å–ç¼–è¾‘å™¨å½“å‰ç¼–è¾‘æ¨¡å¼ |
| destroy() | é”€æ¯ç¼–è¾‘å™¨ |
| getCommentIds(): {id: string, top: number}[] | è·å–æ‰€æœ‰è¯„è®º |
| hlCommentIds(ids: string[]) | é«˜äº®è¯„è®º |
| unHlCommentIds(ids: string[]) | å–æ¶ˆè¯„è®ºé«˜äº® |
| removeCommentIds(removeIds: string[]) | åˆ é™¤è¯„è®º |

#### static methods

* ä¸éœ€è¦è¿›è¡Œç¼–è¾‘æ“ä½œæ—¶ï¼Œä»…éœ€å¼•å…¥ [`method.min.js`](https://unpkg.com/vditor/dist/) åå¦‚ä¸‹ç›´æ¥è°ƒç”¨

```js
Vditor.mermaidRender(document)
```

```js
import VditorPreview from 'vditor/dist/method.min'
VditorPreview.mermaidRender(document)
```

* éœ€è¦å¯¹é¡µé¢ä¸­çš„ Markdown è¿›è¡Œæ¸²æŸ“æ—¶å¯ç›´æ¥è°ƒç”¨ `preview` æ–¹æ³•ï¼Œå‚æ•°å¦‚ä¸‹ï¼š

```ts
previewElement: HTMLDivElement,   // ä½¿ç”¨è¯¥å…ƒç´ è¿›è¡Œæ¸²æŸ“
markdown: string,  // éœ€è¦æ¸²æŸ“çš„ markdown åŸæ–‡
options?: IPreviewOptions {
  mode: "dark" | "light";
  anchor?: number;  // ä¸ºæ ‡é¢˜æ·»åŠ é”šç‚¹ 0ï¼šä¸æ¸²æŸ“ï¼›1ï¼šæ¸²æŸ“äºæ ‡é¢˜å‰ï¼›2ï¼šæ¸²æŸ“äºæ ‡é¢˜åï¼Œé»˜è®¤ 0
  customEmoji?: { [key: string]: string };    // è‡ªå®šä¹‰ emojiï¼Œé»˜è®¤ä¸º {}
  lang?: (keyof II18nLang);    // è¯­è¨€ï¼Œé»˜è®¤ä¸º 'zh_CN'
  emojiPath?: string;    // è¡¨æƒ…å›¾ç‰‡è·¯å¾„
  hljs?: IHljs; // å‚è§ options.preview.hljs
  speech?: {  // å¯¹é€‰ä¸­åçš„å†…å®¹è¿›è¡Œé˜…è¯»
    enable?: boolean,
  };
  math?: IMath; // æ•°å­¦å…¬å¼æ¸²æŸ“é…ç½®
  cdn?: string; // è‡ªå»º CDN åœ°å€
  transform?(html: string): string; // åœ¨æ¸²æŸ“å‰è¿›è¡Œçš„å›è°ƒæ–¹æ³•
  after?(); // æ¸²æŸ“å®Œæˆåçš„å›è°ƒ
  lazyLoadImage?: string; // è®¾ç½®ä¸º Loading å›¾ç‰‡åœ°å€åå°†å¯ç”¨å›¾ç‰‡çš„æ‡’åŠ è½½
  markdown?: options.preview.markdown;
  theme?: options.preview.theme;
  renderers?: ILuteRender; // è‡ªå®šä¹‰æ¸²æŸ“ https://ld246.com/article/1588412297062
}
```

* âš ï¸ `method.min.js`  å’Œ `index.min.js` ä¸å¯åŒæ—¶å¼•å…¥

|   | è¯´æ˜ |
| - | - |
| previewImage(oldImgElement: HTMLImageElement, lang: keyof II18n = "zh_CN", theme = "classic") | ç‚¹å‡»å›¾ç‰‡é¢„è§ˆ |
| mermaidRender(element: HTMLElement, cdn = options.cdn, theme = options.theme) | æµç¨‹å›¾/æ—¶åºå›¾/ç”˜ç‰¹å›¾ |
| flowchartRender(element: HTMLElement, cdn = options.cdn) | flowchart æ¸²æŸ“ |
| codeRender(element: HTMLElement) | ä¸º element ä¸­çš„ä»£ç å—æ·»åŠ å¤åˆ¶æŒ‰é’® |
| chartRender(element: (HTMLElement \| Document) = document, cdn = options.cdn, theme = options.theme) | å›¾è¡¨æ¸²æŸ“ |
| mindmapRender(element: (HTMLElement \| Document) = document, cdn = options.cdn, theme = options.theme) | è„‘å›¾æ¸²æŸ“ |
| plantumlRender(element: (HTMLElement \| Document) = document, cdn = options.cdn) | plantuml æ¸²æŸ“ |
| abcRender(element: (HTMLElement \| Document) = document, cdn = options.cdn) | äº”çº¿è°±æ¸²æŸ“ |
| md2html(mdText: string, options?: IPreviewOptions): Promise\<string> | Markdown æ–‡æœ¬è½¬æ¢ä¸º HTMLï¼Œè¯¥æ–¹æ³•éœ€ä½¿ç”¨[å¼‚æ­¥ç¼–ç¨‹](https://ld246.com/article/1546828434083?r=Vanessa#toc_h3_1) |
| preview(previewElement: HTMLDivElement, markdown: string, options?: IPreviewOptions) | é¡µé¢ Markdown æ–‡ç« æ¸²æŸ“ |
| highlightRender(hljsOption?: IHljs, element?: HTMLElement \| Document, cdn = options.cdn) | ä¸º element ä¸­çš„ä»£ç å—è¿›è¡Œé«˜äº®æ¸²æŸ“ |
| mediaRender(element: HTMLElement) | ä¸º[ç‰¹å®šé“¾æ¥](https://ld246.com/article/1589813914768)åˆ†åˆ«æ¸²æŸ“ä¸ºè§†é¢‘ã€éŸ³é¢‘ã€åµŒå…¥çš„ iframe |
| mathRender(element: HTMLElement, options?: {cdn?: string, math?: IMath}) | å¯¹æ•°å­¦å…¬å¼è¿›è¡Œæ¸²æŸ“ |
| speechRender(element: HTMLElement, lang?: (keyof II18nLang)) | å¯¹é€‰ä¸­çš„æ–‡å­—è¿›è¡Œé˜…è¯» |
| graphvizRender(element: HTMLElement, cdn?: string) | å¯¹ graphviz è¿›è¡Œæ¸²æŸ“ |
| outlineRender(contentElement: HTMLElement, targetElement: Element) | å¯¹å¤§çº²è¿›è¡Œæ¸²æŸ“ |
| lazyLoadImageRender(element: (HTMLElement \| Document) = document) | å¯¹å¯ç”¨æ‡’åŠ è½½çš„å›¾ç‰‡è¿›è¡Œæ¸²æŸ“ |
| setCodeTheme(codeTheme: string, cdn = options.cdn) | è®¾ç½®ä»£ç ä¸»é¢˜ï¼ŒcodeTheme å‚è§ options.preview.hljs.style |
| setContentTheme(contentTheme: string, path: string) | è®¾ç½®å†…å®¹ä¸»é¢˜ï¼ŒcontentTheme å‚è§ options.preview.theme.list |

## ğŸ— å¼€å‘æ–‡æ¡£

### åŸç†ç›¸å…³

* [å…³äºæ‰€è§å³æ‰€å¾— Markdown ç¼–è¾‘å™¨çš„è®¨è®º](https://ld246.com/article/1579414663700)
* [Vditor å®ç° Markdown æ‰€è§å³æ‰€å¾—](https://ld246.com/article/1577370404903)
* [Lute ä¸€æ¬¾å¯¹ä¸­æ–‡è¯­å¢ƒä¼˜åŒ–çš„ Markdown å¼•æ“ï¼Œæ”¯æŒ Go å’Œ JavaScript](https://ld246.com/article/1567047822949)

### ç¯å¢ƒ

1. å®‰è£… [node](https://nodejs.org/) LTS ç‰ˆæœ¬
2. [ä¸‹è½½](https://github.com/Vanessa219/vditor/archive/master.zip)æœ€æ–°ä»£ç å¹¶è§£å‹
3. æ ¹ç›®å½•è¿è¡Œ `npm install`
4. `npm run start` å¯åŠ¨æœ¬åœ°æœåŠ¡å™¨ï¼Œæ‰“å¼€ http://localhost:9000
5. ä¿®æ”¹ä»£ç 
6. `npm run build` æ‰“åŒ…ä»£ç åˆ° dist ç›®å½•

### CDN åˆ‡æ¢

ç”±äºä½¿ç”¨äº†æŒ‰éœ€åŠ è½½çš„æœºåˆ¶ï¼Œé»˜è®¤ CDN ä¸º [https://unpkg.com/vditor](https://unpkg.com/vditor)@ç‰ˆæœ¬å·

å¦‚æœä»£ç æœ‰ä¿®æ”¹æˆ–éœ€è¦ä½¿ç”¨è‡ªå»º CDN çš„è¯ï¼Œå¯æŒ‰ä»¥ä¸‹æ­¥éª¤è¿›è¡Œæ“ä½œï¼š

* åˆå§‹åŒ–æ—¶ï¼Œéœ€å¯¹ `options` åŠ `IPreviewOptions` ä¸­çš„ `cdn`ï¼Œ`emojiPath`, `themes` è¿›è¡Œé…ç½®
* `highlightRender` , `mathRender` , `abcRender` , `chartRender` , `mermaidRender`ï¼Œ `flowchartRender`ï¼Œ`mindmapRender`ï¼Œ`graphvizRender`ï¼Œ`setCodeTheme`ï¼Œ`setContentTheme` æ–¹æ³•ä¸­éœ€æ·»åŠ  cdn å‚æ•°
* å°† build æˆåŠŸçš„ dist ç›®å½•æˆ– [jsDelivr](https://www.jsdelivr.com/package/npm/vditor?path=dist) ä¸­çš„ dist ç›®å½•æ‹·è´è‡³æ­£ç¡®çš„ä½ç½®

### å‡çº§

ç‰ˆæœ¬å‡çº§æ—¶è¯·**ä»”ç»†é˜…è¯»** [CHANGELOG](https://github.com/Vanessa219/vditor/blob/master/CHANGELOG.md) ä¸­çš„**å‡çº§**éƒ¨åˆ†

## â“‚ï¸ Markdown ä½¿ç”¨æŒ‡å—

* [åŸºç¡€è¯­æ³•](https://ld246.com/article/1583129520165)
* [æ‰©å±•è¯­æ³•](https://ld246.com/article/1583305480675)
* [é€ŸæŸ¥æ‰‹å†Œ](https://ld246.com/article/1583308420519)

## ğŸ˜ï¸ ç¤¾åŒº

* [å®˜ç½‘](https://b3log.org/vditor)
* [è®¨è®ºåŒº](https://ld246.com/tag/vditor)
* [æŠ¥å‘Šé—®é¢˜](https://github.com/Vanessa219/vditor/issues/new)

## ğŸ“„ æˆæƒ

Vditor ä½¿ç”¨ [MIT](https://opensource.org/licenses/MIT) å¼€æºåè®®ã€‚

## ğŸ™ é¸£è°¢

* [Lute](https://github.com/88250/lute)ï¼šğŸ¼ ä¸€æ¬¾ç»“æ„åŒ–çš„ Markdown å¼•æ“ï¼Œæ”¯æŒ Go å’Œ JavaScript
* [highlight.js](https://github.com/highlightjs/highlight.js)ï¼šJavaScript syntax highlighter
* [mermaid](https://github.com/knsv/mermaid)ï¼šGeneration of diagram and flowchart from text in a similar manner as Markdown
* [incubator-echarts](https://github.com/apache/incubator-echarts)ï¼šA powerful, interactive charting and visualization library for browser
* [abcjs](https://github.com/paulrosen/abcjs)ï¼šJavaScript library for rendering standard music notation in a browser

## ğŸ“½ï¸ å†å²

æˆ‘ä»¬åœ¨å¼€å‘ [Sym](https://github.com/88250/symphony) çš„åˆæœŸæ˜¯ç›´æ¥ä½¿ç”¨ WYSIWYG å¯Œæ–‡æœ¬ç¼–è¾‘å™¨çš„ã€‚é‚£æ—¶å€™åŸºäº HTML çš„ç¼–è¾‘å™¨éå¸¸æµè¡Œï¼Œé¡¹ç›®ä¸­å¼•ç”¨èµ·æ¥ä¹Ÿå¾ˆæ–¹ä¾¿ï¼Œä¹Ÿç¬¦åˆç”¨æˆ·å½“æ—¶çš„ä½¿ç”¨ä¹ æƒ¯ã€‚

åæ¥ï¼ŒMarkdown çš„å´›èµ·é€æ­¥æ”¹å˜äº†å¤§å®¶çš„æ’ç‰ˆæ–¹å¼ã€‚å†åŠ ä¸Šæˆ‘ä»¬å…¶ä»–å‡ ä¸ªé¡¹ç›®éƒ½æ˜¯é¢å‘ç¨‹åºå‘˜ç”¨æˆ·çš„ï¼Œæ‰€ä»¥è¿ç§»åˆ° md ä¸Šä¹Ÿæ˜¯å¤§åŠ¿æ‰€è¶‹ã€‚æˆ‘ä»¬é€‰æ‹©äº† [CodeMirror](https://github.com/codemirror/CodeMirror)ï¼Œè¿™æ˜¯ä¸€æ¬¾ä¼˜ç§€çš„ç¼–è¾‘å™¨ï¼Œå®ƒå¯¹å¼€å‘è€…æä¾›äº†ä¸°å¯Œçš„ç¼–ç¨‹æ¥å£ï¼Œå¯¹å„ç§æµè§ˆå™¨çš„å…¼å®¹æ€§ä¹Ÿæ¯”è¾ƒå¥½ã€‚

å†åæ¥ï¼Œéšç€æˆ‘ä»¬é¡¹ç›®ä¸šåŠ¡éœ€æ±‚æ–¹é¢çš„æ²‰æ·€ï¼Œä½¿ç”¨ CodeMirror æœ‰æ—¶å€™ä¼šæ„Ÿåˆ°æ¯”è¾ƒâ€œç¬¨é‡â€ã€‚æ¯”å¦‚è¦å®ç° @è‡ªåŠ¨å®Œæˆç”¨æˆ·ååˆ—è¡¨ã€æ’å…¥ Emojiã€ä¸Šä¼ æ–‡ä»¶ç­‰å°±éœ€è¦æ¯”è¾ƒæ·±å…¥çš„äºŒæ¬¡å¼€å‘ï¼Œè€Œè¿™äº›ä¸šåŠ¡éœ€æ±‚æ°æ°æ˜¯å¾ˆå¤šé¡¹ç›®åœºæ™¯å…±æœ‰ä¸”å¿…å¤‡çš„ã€‚

ç»ˆäºï¼Œæˆ‘ä»¬å†³å®šå¼€å§‹åœ¨ Sym ä¸­è‡ªå·±å®ç°ç¼–è¾‘å™¨ã€‚éšç€å‡ ä¸ªç‰ˆæœ¬çš„è¿­ä»£ï¼ŒSym çš„ç¼–è¾‘å™¨ä¹Ÿæ—¥è¶‹æˆç†Ÿã€‚åœ¨æˆ‘ä»¬è¿è¥çš„ç¤¾åŒº[é“¾æ»´](https://ld246.com)ä¸Šé™†ç»­æœ‰äººé—®æˆ‘ä»¬æ˜¯å¦èƒ½å°†ç¼–è¾‘å™¨å•ç‹¬æŠ½ç¦»å‡ºæ¥æä¾›ç»™å¤§å®¶ä½¿ç”¨ã€‚ä¸æ­¤åŒæ—¶ï¼Œæˆ‘ä»¬çš„å‰ç«¯ä¸»ç¨‹ [V](https://ld246.com/member/Vanessa) åŒå­¦å¯¹äºç»´æŠ¤åˆ†æ•£åœ¨å„ä¸ªé¡¹ç›®ä¸­çš„ç¼–è¾‘å™¨ä¹Ÿæ„Ÿåˆ°æœ‰ç‚¹åŠ›ä¸ä»å¿ƒï¼Œå¤–åŠ å¯¹ TypeScript çš„å¥½æ„Ÿï¼Œæ‰€ä»¥å°±å†³å®šä½¿ç”¨ ts æ¥å®ç°ä¸€ä¸ªå…¨æ–°çš„æµè§ˆå™¨ç«¯ md ç¼–è¾‘å™¨ã€‚

äºæ˜¯ï¼ŒVditor å°±è¿™æ ·è¯ç”Ÿäº†ã€‚
